<!-- templates/day.html -->
{% extends "index.html" %}
{% block content %}
<h2>üéÅ –î–µ–Ω—å {{ day }}: {{ task.title }}</h2>

<div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0; font-size: 16px;">
  {{ task.content | safe }}
</div>

{% if task.image_url %}
  <div style="text-align: center; margin: 20px 0;">
    <img src="{{ task.image_url }}" alt="–§–æ—Ç–æ –¥–Ω—è" style="max-width: 100%; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1);">
  </div>
{% endif %}

{% if task.is_paid %}
  <div style="background: #fff3e0; padding: 15px; margin: 20px 0; border-radius: 8px; color: #ef6c00; font-weight: bold; text-align: center;">
    üí∞ –≠—Ç–æ <strong>–ø–ª–∞—Ç–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ</strong>. –ó–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ ‚Äî –ø–ª–∞—Ç–Ω—ã–µ –±–∞–ª–ª—ã.
  </div>
{% endif %}

<details style="margin: 15px 0; padding: 10px; border: 1px dashed #ccc; border-radius: 6px;">
  <summary style="font-weight: 500; color: #1976d2;">üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞</summary>
  <p style="margin: 10px 0 0; font-size: 15px;">{{ task.hint }}</p>
</details>

<!-- –°—Ç–∞—Ç—É—Å –∑–∞–¥–∞–Ω–∏—è -->
{% if submission %}
  <div style="background: 
    {% if submission.status == 'approved' %}#e8f5e9; color: #2e7d32
    {% elif submission.status == 'rejected' %}#ffebee; color: #c62828
    {% else %}#fff3e0; color: #ff6f00{% endif %};
    padding: 15px; border-radius: 8px; margin: 20px 0; text-align: center; font-weight: 500;">
    ‚úÖ <strong>–ó–∞–¥–∞–Ω–∏–µ {{ "–æ–¥–æ–±—Ä–µ–Ω–æ" if submission.status == 'approved' else "–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ" if submission.status == 'rejected' else "–æ–∂–∏–¥–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏" }}</strong>
  </div>
{% else %}
  <!-- –§–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ -->
  <form method="POST" enctype="multipart/form-data" style="max-width: 600px; margin: 20px auto; padding: 25px; background: #ffffff; border-radius: 16px; box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; border: 1px solid #e0e6ed;">
    {% if task.response_type == 'file' %}
      <p style="margin: 0 0 12px 0; color: #1a202c; font-size: 16px; font-weight: 500;">–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ —Ñ–æ—Ç–æ –∏–ª–∏ –≤–∏–¥–µ–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è:</p>
      <input type="file" name="file" accept="image/*,video/*,.pdf,.txt" required style="width: 100%; padding: 14px; border: 2px dashed #90cdf4; border-radius: 12px; background: #ebf8ff; color: #2b6cb0; font-size: 15px; cursor: pointer; transition: all 0.3s ease;">
    {% elif task.response_type == 'text' %}
      <p style="margin: 0 0 12px 0; color: #1a202c; font-size: 16px; font-weight: 500;">–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç:</p>
      <textarea name="text" rows="4" cols="50" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç..." required style="width: 100%; padding: 14px; border: 2px solid #cbd5e0; border-radius: 12px; font-size: 16px; color: #2d3748; background: #ffffff; transition: all 0.3s ease; resize: vertical; min-height: 110px; box-sizing: border-box;"></textarea>
    {% endif %}
    <button type="submit" style="margin-top: 16px; width: 100%; padding: 14px; background: #2b6cb0; color: white; font-size: 17px; font-weight: 600; border: none; border-radius: 12px; cursor: pointer; transition: background 0.3s ease; letter-spacing: 0.8px;" onmouseover="this.style.background='#2c5282';" onmouseout="this.style.background='#2b6cb0';">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
  </form>
{% endif %}

<a href="/calendar" class="btn btn-outline">‚Üê –ù–∞–∑–∞–¥ –∫ –∫–∞–ª–µ–Ω–¥–∞—Ä—é</a>
{% endblock %}
